<!-- pc/templates/pc/edit_preset.html -->
{% extends 'base.html' %}
{% block content %}
<h2>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ—Å–µ—Ç: {{ preset.name }}</h2>

<form method="post">
  {% csrf_token %}
  <div class="mb-3">
    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
    <input type="text" name="name" class="form-control" value="{{ preset.name }}" required>
  </div>
  <div class="mb-3">
    <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
    <textarea name="description" class="form-control">{{ preset.description }}</textarea>
  </div>
  <div class="mb-3">
    <label class="form-label">–¢–∏–ø</label>
    <select name="target" class="form-control">
      <option value="gaming" {% if preset.target == 'gaming' %}selected{% endif %}>–ò–≥—Ä—ã</option>
      <option value="office" {% if preset.target == 'office' %}selected{% endif %}>–û—Ñ–∏—Å</option>
      <option value="budget" {% if preset.target == 'budget' %}selected{% endif %}>–ë—é–¥–∂–µ—Ç</option>
    </select>
  </div>

  <h4>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</h4>
  <div class="row">
  {% for comp in components %}
    <div class="col-md-6 mb-2">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" 
               name="components" value="{{ comp.name }}" 
               id="comp_{{ forloop.counter }}" 
               {% if comp.name in selected_names %}checked{% endif %}>
        <label class="form-check-label" for="comp_{{ forloop.counter }}">
          {{ comp.name }} ‚Äî {{ comp.price }} ‚ÇΩ
        </label>
      </div>
    </div>
  {% endfor %}
  </div>

  <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–µ—Å–µ—Ç</button>
  <a href="{% url 'presets' %}" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</a>
</form>
{% endblock %}